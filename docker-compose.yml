services:
  p4dashboard:
    # Image must be pre-built and loaded on host
    image: p4dashboard:latest
    container_name: p4dashboard
    restart: unless-stopped
    ports:
      - "4444:4444"
    volumes:
      # Persistent storage for credentials (creds.json)
      - p4dashboard-data:/app/data
      # Persistent storage for .p4trust (needed to connect to server)
      - /your/local/p4trust/path:/app/p4trustdir
    environment:
      # Optional: Set timezone (default: UTC)
      - TZ=
      # .p4trust
      - P4TRUST=/app/p4trustdir/.p4trust
      # Health check is defined in Dockerfile

      # Named volume - managed by Docker
volumes:
  p4dashboard-data:
